import{u as S,R as B}from"./DavTe13q.js";import{u as A}from"./B7TUqnbC.js";import{R as G,S as R,T as v,U as g,V as L,d as y,W as J,i as x,X as K,h as w,M as E,t as C,v as $,x as I,J as X,z as n,A as l,L as t,B as b,O as V,Y as M,Z,r as N,K as Q,y as ee}from"./DjT8zhlV.js";import{N as O}from"./By_AYA8C.js";import{_ as ne,a as oe}from"./BacQM2Vu.js";import{_ as F,a as te,b as le}from"./qIoA3iGV.js";import{_ as ae}from"./DuMMpTnv.js";import{_ as re,u as se,a as ie}from"./CbrxEeZO.js";import{_ as D}from"./C4kaO6jN.js";import{b as de}from"./IoIuy_vt.js";import{a as ue,_ as pe,b as me}from"./SL0lBhIW.js";import"./jGolgmb8.js";import"./BLsdgGu3.js";import"./B-p6aW7q.js";import"./DHAKUXyF.js";import"./pKptHKqE.js";import"./C5Ksf8W7.js";import"./DplRFpZE.js";import"./Bk_rJcZu.js";const _e=G("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[R("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[R("no-title",`
 display: flex;
 align-items: center;
 `)]),v("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),g("title-position-left",[v("line",[g("left",{width:"28px"})])]),g("title-position-right",[v("line",[g("right",{width:"28px"})])]),g("dashed",[v("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),g("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),v("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),R("dashed",[v("line",{backgroundColor:"var(--n-color)"})]),g("dashed",[v("line",{borderColor:"var(--n-color)"})]),g("vertical",{backgroundColor:"var(--n-color)"})]),ce=Object.assign(Object.assign({},L.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),fe=y({name:"Divider",props:ce,setup(p){const{mergedClsPrefixRef:s,inlineThemeDisabled:r}=J(p),e=L("Divider","-divider",_e,de,p,s),i=x(()=>{const{common:{cubicBezierEaseInOut:o},self:{color:h,textColor:u,fontWeight:a}}=e.value;return{"--n-bezier":o,"--n-color":h,"--n-text-color":u,"--n-font-weight":a}}),d=r?K("divider",void 0,i,p):void 0;return{mergedClsPrefix:s,cssVars:r?void 0:i,themeClass:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender}},render(){var p;const{$slots:s,titlePlacement:r,vertical:e,dashed:i,cssVars:d,mergedClsPrefix:o}=this;return(p=this.onRender)===null||p===void 0||p.call(this),w("div",{role:"separator",class:[`${o}-divider`,this.themeClass,{[`${o}-divider--vertical`]:e,[`${o}-divider--no-title`]:!s.default,[`${o}-divider--dashed`]:i,[`${o}-divider--title-position-${r}`]:s.default&&r}],style:d},e?null:w("div",{class:`${o}-divider__line ${o}-divider__line--left`}),!e&&s.default?w(E,null,w("div",{class:`${o}-divider__title`},this.$slots),w("div",{class:`${o}-divider__line ${o}-divider__line--right`})):null)}}),ge={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ve=y({name:"CloudUploadRound",render:function(s,r){return C(),$("svg",ge,r[0]||(r[0]=[I("path",{d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5c0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l4.65-4.65c.2-.2.51-.2.71 0L17 13h-3z",fill:"currentColor"},null,-1)]))}}),he={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},we=y({name:"WarningRound",render:function(s,r){return C(),$("svg",he,r[0]||(r[0]=[I("path",{d:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z",fill:"currentColor"},null,-1)]))}}),be=y({__name:"ProfileChangePassword",setup(p){const s=A(),r={updateProfile:S(B.USERS),changePassword:S(B.PROFILE_CHANGE_PASSWORD,0)},e=X({visibility:{modal:!1,confirm:!1},loading:{form:!1,buttonSave:!1,buttonCancel:!1},form:{current_password:"",new_password:"",confirm_new_password:""}}),i={handle:{click:{button:{modal:()=>{e.visibility.modal=!0},cancel:()=>{e.visibility.modal=!1,i.clearForm()},save:async()=>{e.loading.form=!0,e.loading.buttonSave=!0,e.loading.buttonCancel=!0,await i.consume.changePassword(),e.loading.form=!1,e.loading.buttonSave=!0,e.loading.buttonCancel=!0,e.visibility.modal=!1,i.clearForm()}}}},consume:{changePassword:async()=>{await r.changePassword.save(e.form)!==!1&&s.logout()}},clearForm:()=>{e.form.current_password="",e.form.new_password="",e.form.confirm_new_password=""}};return(d,o)=>{const h=O,u=V,a=ne,c=F,_=ae,P=re,z=D,k=M,U=Z;return C(),$(E,null,[n(u,{type:"error",secondary:"",onClick:i.handle.click.button.modal},{icon:l(()=>[n(h,{component:t(we)},null,8,["component"])]),default:l(()=>[o[4]||(o[4]=b(" Change Password "))]),_:1},8,["onClick"]),n(U,{show:t(e).visibility.modal,"onUpdate:show":o[3]||(o[3]=f=>t(e).visibility.modal=f),"transform-origin":"center"},{default:l(()=>[n(k,{style:{width:"600px"},title:"Change Password",size:"small",role:"dialog","aria-modal":"true"},{footer:l(()=>[n(z,{justify:"end"},{default:l(()=>[n(u,{type:"default",size:"small",disabled:t(e).loading.buttonCancel,onClick:i.handle.click.button.cancel},{default:l(()=>o[5]||(o[5]=[b("Cancel")])),_:1},8,["disabled","onClick"]),n(u,{type:"primary",size:"small",disabled:t(e).loading.buttonSave,loading:t(e).loading.buttonSave,onClick:i.handle.click.button.save},{default:l(()=>o[6]||(o[6]=[b("Save")])),_:1},8,["disabled","loading","onClick"])]),_:1})]),default:l(()=>[n(P,{show:t(e).loading.form},{default:l(()=>[n(_,{size:10,vertical:""},{default:l(()=>[n(a,{title:"You will need to log in again after you change your password.",type:"info"}),n(c,{size:"small",value:t(e).form.current_password,"onUpdate:value":o[0]||(o[0]=f=>t(e).form.current_password=f),type:"password",placeholder:"Current Password"},null,8,["value"]),n(c,{size:"small",value:t(e).form.new_password,"onUpdate:value":o[1]||(o[1]=f=>t(e).form.new_password=f),type:"password",placeholder:"New Password"},null,8,["value"]),n(c,{size:"small",value:t(e).form.confirm_new_password,"onUpdate:value":o[2]||(o[2]=f=>t(e).form.confirm_new_password=f),type:"password",placeholder:"Confirm New Password"},null,8,["value"])]),_:1})]),_:1},8,["show"])]),_:1})]),_:1},8,["show"])],64)}}}),Fe=y({__name:"profile",setup(p){const s=A(),r=N(null),e=N({...s.authUser}),i={roles:se().userRoles},d={user:{name:{required:!0,message:"Please input your name",trigger:"blur"},age:{required:!0,message:"Please input your age",trigger:["input","blur"]}},phone:{required:!0,message:"Please input your number",trigger:["input"]}},o=x(()=>ie().languages.map(u=>({label:u.name,value:u.id}))),h=x(()=>{var u;return console.log(i.roles),(u=i.roles.find(a=>a.id===e.value.user_role_id))==null?void 0:u.label});return x(()=>s.authUser.user_role_id===4),console.log(s.authUser),(u,a)=>{const c=F,_=te,P=pe,z=oe,k=O,U=V,f=D,T=le,W=fe,j=be,q=M,H=me,Y=ue;return C(),Q(Y,{"y-gap":"10",cols:"5"},{default:l(()=>[n(H,{offset:1,span:3},{default:l(()=>[n(q,{size:"small"},{default:l(()=>[n(T,{ref_key:"formRef",ref:r,"label-width":80,model:t(e),rules:d,size:"small"},{default:l(()=>[n(_,{label:"Name",path:"name"},{default:l(()=>[n(c,{value:t(e).name,"onUpdate:value":a[0]||(a[0]=m=>t(e).name=m),placeholder:"Input Name"},null,8,["value"])]),_:1}),n(_,{label:"Role",path:"user_role_id"},{default:l(()=>[n(P,{type:"info"},{default:l(()=>[b(ee(t(h)),1)]),_:1})]),_:1}),n(_,{label:"Username",path:"username"},{default:l(()=>[n(c,{value:t(e).username,"onUpdate:value":a[1]||(a[1]=m=>t(e).username=m),placeholder:"Input Username"},null,8,["value"])]),_:1}),n(_,{label:"Email Address",path:"email"},{default:l(()=>[n(c,{value:t(e).email,"onUpdate:value":a[2]||(a[2]=m=>t(e).email=m),placeholder:"Input Email Address"},null,8,["value"])]),_:1}),n(_,{label:"Phone Number",path:"phone_number"},{default:l(()=>[n(c,{value:t(e).phone_number,"onUpdate:value":a[3]||(a[3]=m=>t(e).phone_number=m),placeholder:"Input Phone Number"},null,8,["value"])]),_:1}),n(_,{label:"Biography",path:"biography"},{default:l(()=>[n(c,{value:t(e).biography,"onUpdate:value":a[4]||(a[4]=m=>t(e).biography=m),type:"textarea",placeholder:"Input Biography"},null,8,["value"])]),_:1}),n(_,{label:"Preferred Language",path:"preferred_language_id"},{default:l(()=>[n(z,{value:t(e).preferred_language_id,"onUpdate:value":a[5]||(a[5]=m=>t(e).preferred_language_id=m),clearable:"",placeholder:"Select Preferred Language",options:t(o)},null,8,["value","options"])]),_:1}),n(f,{justify:"center"},{default:l(()=>[n(U,{type:"warning",secondary:"",size:"small"},{icon:l(()=>[n(k,{component:t(ve)},null,8,["component"])]),default:l(()=>[a[6]||(a[6]=b(" Update "))]),_:1})]),_:1})]),_:1},8,["model"]),n(W),n(_,{label:"Change Password : ","label-placement":"left",size:"small"},{default:l(()=>[n(j)]),_:1})]),_:1})]),_:1})]),_:1})}}});export{Fe as default};
