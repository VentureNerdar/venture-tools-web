import{u as N,R as V}from"./c1_doccY.js";import{u as L}from"./DgW3EktX.js";import{a as M,b as Y}from"./CGD6v8QL.js";import{S as Z,T as S,U as v,V as h,W as E,d as C,X as Q,i as z,Y as ee,h as w,M as F,t as k,v as B,x as O,J as ne,z as o,A as t,L as e,B as y,y as x,P as D,Z as T,$ as oe,r as A,K as te}from"./CT8Vtxko.js";import{N as W}from"./BEAHezj2.js";import{_ as ae}from"./XY6AI1jk.js";import{_ as j,a as le,b as re}from"./C_bBDgyn.js";import{_ as se}from"./D2yhJyAQ.js";import{_ as ie,u as de}from"./BlTf7Mei.js";import{_ as H}from"./5dj9azcz.js";import{b as ue}from"./D1YZeuYH.js";import{_ as pe,a as _e}from"./C3--D1dS.js";import{_ as ce}from"./CM2IK1qU.js";import{_ as me}from"./CCFZgsNf.js";import"./BpDzwQSV.js";import"./B7uyUjzP.js";import"./B-p6aW7q.js";import"./CrF1TBM6.js";import"./Bk_rJcZu.js";import"./B9XWFAwO.js";const fe=Z("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[S("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[S("no-title",`
 display: flex;
 align-items: center;
 `)]),v("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),h("title-position-left",[v("line",[h("left",{width:"28px"})])]),h("title-position-right",[v("line",[h("right",{width:"28px"})])]),h("dashed",[v("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),h("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),v("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),S("dashed",[v("line",{backgroundColor:"var(--n-color)"})]),h("dashed",[v("line",{borderColor:"var(--n-color)"})]),h("vertical",{backgroundColor:"var(--n-color)"})]),ge=Object.assign(Object.assign({},E.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),he=C({name:"Divider",props:ge,setup(_){const{mergedClsPrefixRef:d,inlineThemeDisabled:a}=Q(_),l=E("Divider","-divider",fe,ue,_,d),n=z(()=>{const{common:{cubicBezierEaseInOut:s},self:{color:u,textColor:b,fontWeight:p}}=l.value;return{"--n-bezier":s,"--n-color":u,"--n-text-color":b,"--n-font-weight":p}}),r=a?ee("divider",void 0,n,_):void 0;return{mergedClsPrefix:d,cssVars:a?void 0:n,themeClass:r==null?void 0:r.themeClass,onRender:r==null?void 0:r.onRender}},render(){var _;const{$slots:d,titlePlacement:a,vertical:l,dashed:n,cssVars:r,mergedClsPrefix:s}=this;return(_=this.onRender)===null||_===void 0||_.call(this),w("div",{role:"separator",class:[`${s}-divider`,this.themeClass,{[`${s}-divider--vertical`]:l,[`${s}-divider--no-title`]:!d.default,[`${s}-divider--dashed`]:n,[`${s}-divider--title-position-${a}`]:d.default&&a}],style:r},l?null:w("div",{class:`${s}-divider__line ${s}-divider__line--left`}),!l&&d.default?w(F,null,w("div",{class:`${s}-divider__title`},this.$slots),w("div",{class:`${s}-divider__line ${s}-divider__line--right`})):null)}}),ve={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},be=C({name:"CloudUploadRound",render:function(d,a){return k(),B("svg",ve,a[0]||(a[0]=[O("path",{d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5c0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l4.65-4.65c.2-.2.51-.2.71 0L17 13h-3z",fill:"currentColor"},null,-1)]))}}),we={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ye=C({name:"WarningRound",render:function(d,a){return k(),B("svg",we,a[0]||(a[0]=[O("path",{d:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z",fill:"currentColor"},null,-1)]))}}),xe=C({__name:"ProfileChangePassword",setup(_){const d=L(),a=M(),l={updateProfile:N(V.USERS),changePassword:N(V.PROFILE_CHANGE_PASSWORD,0)},n=ne({visibility:{modal:!1,confirm:!1},loading:{form:!1,buttonSave:!1,buttonCancel:!1},form:{current_password:"",new_password:"",confirm_new_password:""}}),r={handle:{click:{button:{modal:()=>{n.visibility.modal=!0},cancel:()=>{n.visibility.modal=!1,r.clearForm()},save:async()=>{n.loading.form=!0,n.loading.buttonSave=!0,n.loading.buttonCancel=!0,await r.consume.changePassword(),n.loading.form=!1,n.loading.buttonSave=!0,n.loading.buttonCancel=!0,n.visibility.modal=!1,r.clearForm()}}}},consume:{changePassword:async()=>{await l.changePassword.save(n.form)!==!1&&d.logout()}},clearForm:()=>{n.form.current_password="",n.form.new_password="",n.form.confirm_new_password=""}};return(s,u)=>{const b=W,p=D,i=ae,f=j,m=se,P=ie,$=H,R=T,U=oe;return k(),B(F,null,[o(p,{type:"error",secondary:"",onClick:r.handle.click.button.modal},{icon:t(()=>[o(b,{component:e(ye)},null,8,["component"])]),default:t(()=>[y(" "+x(e(a).translate("change_password")),1)]),_:1},8,["onClick"]),o(U,{show:e(n).visibility.modal,"onUpdate:show":u[3]||(u[3]=g=>e(n).visibility.modal=g),"transform-origin":"center"},{default:t(()=>[o(R,{style:{width:"600px"},title:e(a).translate("change_password"),size:"small",role:"dialog","aria-modal":"true"},{footer:t(()=>[o($,{justify:"end"},{default:t(()=>[o(p,{type:"default",size:"small",disabled:e(n).loading.buttonCancel,onClick:r.handle.click.button.cancel},{default:t(()=>[y(x(e(a).translate("cancel")),1)]),_:1},8,["disabled","onClick"]),o(p,{type:"primary",size:"small",disabled:e(n).loading.buttonSave,loading:e(n).loading.buttonSave,onClick:r.handle.click.button.save},{default:t(()=>[y(x(e(a).translate("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),default:t(()=>[o(P,{show:e(n).loading.form},{default:t(()=>[o(m,{size:10,vertical:""},{default:t(()=>[o(i,{title:e(a).translate("you_will_need_to_log_in_again_after_you_chang_your_password"),type:"info"},null,8,["title"]),o(f,{size:"small",value:e(n).form.current_password,"onUpdate:value":u[0]||(u[0]=g=>e(n).form.current_password=g),type:"password",placeholder:e(a).translate("current_password")},null,8,["value","placeholder"]),o(f,{size:"small",value:e(n).form.new_password,"onUpdate:value":u[1]||(u[1]=g=>e(n).form.new_password=g),type:"password",placeholder:e(a).translate("new_password")},null,8,["value","placeholder"]),o(f,{size:"small",value:e(n).form.confirm_new_password,"onUpdate:value":u[2]||(u[2]=g=>e(n).form.confirm_new_password=g),type:"password",placeholder:e(a).translate("confirm_new_password")},null,8,["value","placeholder"])]),_:1})]),_:1},8,["show"])]),_:1},8,["title"])]),_:1},8,["show"])],64)}}}),je=C({__name:"profile",setup(_){const d=L(),a=A(null),l=A({...d.authUser}),n=M(),r={roles:de().userRoles},s={user:{name:{required:!0,message:"Please input your name",trigger:"blur"},age:{required:!0,message:"Please input your age",trigger:["input","blur"]}},phone:{required:!0,message:"Please input your number",trigger:["input"]}},u=z(()=>Y().languages.map(p=>({label:p.name,value:p.id}))),b=z(()=>{var p;return(p=r.roles.find(i=>i.id===l.value.user_role_id))==null?void 0:p.label});return z(()=>d.authUser.user_role_id===4),console.log(d.authUser),(p,i)=>{const f=j,m=le,P=ce,$=me,R=W,U=D,g=H,q=re,I=he,G=xe,J=T,K=_e,X=pe;return k(),te(X,{"y-gap":"10",cols:"5"},{default:t(()=>[o(K,{offset:1,span:3},{default:t(()=>[o(J,{size:"small"},{default:t(()=>[o(q,{ref_key:"formRef",ref:a,"label-width":80,model:e(l),rules:s,size:"small"},{default:t(()=>[o(m,{label:e(n).translate("name"),path:"name"},{default:t(()=>[o(f,{value:e(l).name,"onUpdate:value":i[0]||(i[0]=c=>e(l).name=c),placeholder:e(n).translate("input_name")},null,8,["value","placeholder"])]),_:1},8,["label"]),o(m,{label:e(n).translate("role"),path:"user_role_id"},{default:t(()=>[o(P,{type:"info"},{default:t(()=>[y(x(e(b)),1)]),_:1})]),_:1},8,["label"]),o(m,{label:e(n).translate("username"),path:"username"},{default:t(()=>[o(f,{value:e(l).username,"onUpdate:value":i[1]||(i[1]=c=>e(l).username=c),placeholder:e(n).translate("input_username")},null,8,["value","placeholder"])]),_:1},8,["label"]),o(m,{label:e(n).translate("email_address"),path:"email"},{default:t(()=>[o(f,{value:e(l).email,"onUpdate:value":i[2]||(i[2]=c=>e(l).email=c),placeholder:e(n).translate("input_email_address")},null,8,["value","placeholder"])]),_:1},8,["label"]),o(m,{label:e(n).translate("phone_number"),path:"phone_number"},{default:t(()=>[o(f,{value:e(l).phone_number,"onUpdate:value":i[3]||(i[3]=c=>e(l).phone_number=c),placeholder:e(n).translate("input_phone_number")},null,8,["value","placeholder"])]),_:1},8,["label"]),o(m,{label:e(n).translate("biography"),path:"biography"},{default:t(()=>[o(f,{value:e(l).biography,"onUpdate:value":i[4]||(i[4]=c=>e(l).biography=c),type:"textarea",placeholder:e(n).translate("input_biography")},null,8,["value","placeholder"])]),_:1},8,["label"]),o(m,{label:e(n).translate("preferred_language"),path:"preferred_language_id"},{default:t(()=>[o($,{value:e(l).preferred_language_id,"onUpdate:value":i[5]||(i[5]=c=>e(l).preferred_language_id=c),clearable:"",placeholder:e(n).translate("select_preferred_language"),options:e(u)},null,8,["value","placeholder","options"])]),_:1},8,["label"]),o(g,{justify:"center"},{default:t(()=>[o(U,{type:"warning",secondary:"",size:"small"},{icon:t(()=>[o(R,{component:e(be)},null,8,["component"])]),default:t(()=>[y(" "+x(e(n).translate("update")),1)]),_:1})]),_:1})]),_:1},8,["model"]),o(I),o(m,{label:e(n).translate("change_password"),"label-placement":"left",size:"small"},{default:t(()=>[o(G)]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})}}});export{je as default};
