import{j as g,ah as u,cr as v,ai as c,cs as _,ct as b,d as h,cu as A,h as p,M as f,aL as N,cv as w,aU as j,cw as x,cx as P,cy as I}from"./CvgJilO_.js";import{ad as B,_ as E,a7 as M,a as S}from"./BjVeTqPo.js";function q(e,o){return g(()=>{for(const n of o)if(e[n]!==void 0)return e[n];return e[o[o.length-1]]})}const C=/^(\d|\.)+$/,m=/(\d|\.)+/;function z(e,{c:o=1,offset:n=0,attachPx:a=!0}={}){if(typeof e=="number"){const r=(e+n)*o;return r===0?"0":`${r}px`}else if(typeof e=="string")if(C.test(e)){const r=(Number(e)+n)*o;return a?r===0?"0":`${r}px`:`${r}`}else{const r=m.exec(e);return r?e.replace(m,String((Number(r[0])+n)*o)):e}return e}function $(){const e=u(v,null);return e===null&&c("use-dialog","No outer <n-dialog-provider /> founded."),e}function k(){const e=u(_,null);return e===null&&c("use-loading-bar","No outer <n-loading-bar-provider /> founded."),e}function D(){const e=u(b,null);return e===null&&c("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}function K(){const e=u(B,null);return e===null&&c("use-notification","No outer `n-notification-provider` found."),e}const y=h({name:"InjectionExtractor",props:{onSetup:Function},setup(e,{slots:o}){var n;return(n=e.onSetup)===null||n===void 0||n.call(e),()=>{var a;return(a=o.default)===null||a===void 0?void 0:a.call(o)}}}),L={message:D,notification:K,loadingBar:k,dialog:$,modal:w};function F({providersAndProps:e,configProviderProps:o}){let n=A(r);const a={app:n};function r(){return p(E,f(o),{default:()=>e.map(({type:t,Provider:l,props:s})=>p(l,f(s),{default:()=>p(y,{onSetup:()=>a[t]=L[t]()})}))})}let i;return N&&(i=document.createElement("div"),document.body.appendChild(i),n.mount(i)),Object.assign({unmount:()=>{var t;if(n===null||i===null){j("discrete","unmount call no need because discrete app has been unmounted");return}n.unmount(),(t=i.parentNode)===null||t===void 0||t.removeChild(i),i=null,n=null}},a)}function O(e,{configProviderProps:o,messageProviderProps:n,dialogProviderProps:a,notificationProviderProps:r,loadingBarProviderProps:i,modalProviderProps:d}={}){const t=[];return e.forEach(s=>{switch(s){case"message":t.push({type:s,Provider:I,props:n});break;case"notification":t.push({type:s,Provider:S,props:r});break;case"dialog":t.push({type:s,Provider:M,props:a});break;case"loadingBar":t.push({type:s,Provider:P,props:i});break;case"modal":t.push({type:s,Provider:x,props:d})}}),F({providersAndProps:t,configProviderProps:o})}export{k as a,K as b,$ as c,q as d,O as e,z as f,D as u};
