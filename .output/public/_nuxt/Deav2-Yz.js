import{m as z,_ as F,E as be,a as we,b as Oe,c as Se,d as Ce}from"./BCIy1G4c.js";import{a as k,b as te}from"./B9foOY_i.js";import{d as C,v as g,x as O,y as h,K as x,A as o,B as s,C as $,z as w,M as e,R as T,P as J,O as oe,a4 as ie,r as V,a5 as Me,a6 as xe,o as Pe,j as ne,h as L,G as ae,L as G,W as de,s as me,a7 as ee,X as ce,a8 as Ne,_ as Y,T as ke,u as Te}from"./C8B0pVqp.js";import{_ as se}from"./BccNmMnX.js";import{_ as B}from"./DaaZHh22.js";import{u as j,R as q}from"./CIn3Frgy.js";import{u as le}from"./CI2mr5X-.js";import{N as re}from"./BgmrUE6R.js";import{b as ue}from"./D9PDig5o.js";import{_ as Q}from"./Cwtkx9cy.js";import{P as De}from"./B9oVb-al.js";import{S as pe}from"./CqLYwmrs.js";import{_ as _e}from"./s6TOlJXo.js";import{_ as Ie}from"./meBxAQyV.js";import{a as Ue}from"./C07BrJQh.js";import{_ as Z}from"./DShXsbGp.js";import{_ as Ae}from"./BsqA9Ioi.js";import{_ as Be}from"./Cvq-gx1j.js";import{_ as $e,a as ze}from"./CdmtH_el.js";import{_ as fe,a as he}from"./MQpm610T.js";import"./BiwyQtpt.js";import"./C2UEqYWv.js";import"./DT4rYR05.js";import"./BEPCnN3O.js";import"./CjcVE08U.js";import"./CXBoYoBN.js";import"./BzyrSvOY.js";import"./C27MwKPy.js";import"./B3-gLStb.js";import"./C5Ksf8W7.js";import"./Cmo3aq5L.js";import"./CIkThKCN.js";import"./Bk_rJcZu.js";import"./B-p6aW7q.js";import"./DEhmi0Uk.js";import"./C13WjtpR.js";import"./EwO3xgms.js";import"./CdyTBPJQ.js";const Fe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Ee=C({name:"ArrowDownwardRound",render:function(t,r){return g(),O("svg",Fe,r[0]||(r[0]=[h("path",{d:"M11 5v11.17l-4.88-4.88c-.39-.39-1.03-.39-1.42 0a.996.996 0 0 0 0 1.41l6.59 6.59c.39.39 1.02.39 1.41 0l6.59-6.59a.996.996 0 1 0-1.41-1.41L13 16.17V5c0-.55-.45-1-1-1s-1 .45-1 1z",fill:"currentColor"},null,-1)]))}}),We={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Re=C({name:"ArrowUpwardRound",render:function(t,r){return g(),O("svg",We,r[0]||(r[0]=[h("path",{d:"M13 19V7.83l4.88 4.88c.39.39 1.03.39 1.42 0a.996.996 0 0 0 0-1.41l-6.59-6.59a.996.996 0 0 0-1.41 0l-6.6 6.58a.996.996 0 1 0 1.41 1.41L11 7.83V19c0 .55.45 1 1 1s1-.45 1-1z",fill:"currentColor"},null,-1)]))}}),Ge=C({__name:"UserRole",setup(v){const t=z.userRoles,r=k(),n=x({visibility:{modal:!1},loading:{page:!1},searchByFieldName:"name",storeOptions:{storeState:t.store.user,...t.options.store},formModalOptions:{moduleName:t.name,components:{formComponent:t.form.component,buttonIconComponent:t.form.createButtonIconComponent},routePath:t.routePath,width:t.form.modalWidthSize,hiddenFieldsOnEdit:t.dataTable.hiddenFieldsOnEdit,form:t.form.model}});return(p,a)=>{const l=J,c=F,m=se,d=oe,_=ie;return g(),O(T,null,[o(l,{type:"primary",size:"small",onClick:a[0]||(a[0]=i=>e(n).visibility.modal=!0)},{default:s(()=>[$(w(e(r).translate("user_role")),1)]),_:1}),o(_,{show:e(n).visibility.modal,"onUpdate:show":a[2]||(a[2]=i=>e(n).visibility.modal=i),"transform-origin":"center"},{default:s(()=>[o(d,{style:{width:"calc(100vw - 40px)",height:"calc(100vh - 40px)"},title:e(r).translate("manage_user_role"),bordered:!0,size:"small",role:"dialog","aria-modal":"true"},{"header-extra":s(()=>a[3]||(a[3]=[])),footer:s(()=>[o(m,{justify:"end"},{default:s(()=>[o(l,{size:"small",type:"default",onClick:a[1]||(a[1]=i=>e(n).visibility.modal=!1)},{default:s(()=>[$(w(e(r).translate("close")),1)]),_:1})]),_:1})]),default:s(()=>[o(c,{"get-all":!0,module:e(t),"store-options":e(n).storeOptions,"form-modal-options":e(n).formModalOptions,"search-by-field-name":e(n).searchByFieldName},null,8,["module","store-options","form-modal-options","search-by-field-name"])]),_:1},8,["title"])]),_:1},8,["show"])],64)}}}),Le=C({__name:"users",setup(v){const t=async()=>(await a.movements.browse({all:!0})).map(m=>({label:m.name,value:m.id})),r=V([]),n=x({...z.users}),p=k(),a={movements:j(q.MOVEMENTS)},l=x({loading:{page:!1},searchByFieldName:"name",storeOptions:{storeState:n.store.user,...n.options.store},formModalOptions:{moduleName:n.name,components:{formComponent:n.form.component,buttonIconComponent:n.form.createButtonIconComponent},routePath:n.routePath,width:n.form.modalWidthSize,hiddenFieldsOnEdit:n.dataTable.hiddenFieldsOnEdit,form:n.form.model}});return Me(async()=>{Array.isArray(n.options.filter)&&(await xe(),r.value=await t(),n.options.filter=[...n.options.filter,{name:"Movement",whereFieldIs:"movement_id",values:r.value}])}),(c,m)=>{const d=Ge,_=B,i=F;return g(),O(T,null,[o(_,null,{left:s(()=>[h("b",null,w(e(p).translate("manage_users")),1)]),right:s(()=>[o(d)]),_:1}),o(i,{module:e(n),"store-options":e(l).storeOptions,"form-modal-options":e(l).formModalOptions,"search-by-field-name":e(l).searchByFieldName,"get-all":!1},null,8,["module","store-options","form-modal-options","search-by-field-name"])],64)}}}),je=C({__name:"communicationPlatforms",setup(v){const t=z.communicationPlatforms,r=k(),n=x({loading:{page:!1},searchByFieldName:"name",storeOptions:{storeState:t.store.communicationPlatforms,...t.options.store},formModalOptions:{moduleName:t.name,components:{formComponent:t.form.component,buttonIconComponent:t.form.createButtonIconComponent},routePath:t.routePath,width:t.form.modalWidthSize,hiddenFieldsOnEdit:t.dataTable.hiddenFieldsOnEdit,form:t.form.model}});return(p,a)=>{const l=B,c=F;return g(),O(T,null,[o(l,null,{left:s(()=>[h("b",null,w(e(r).translate("manage_communication_platforms")),1)]),right:s(()=>a[0]||(a[0]=[])),_:1}),o(c,{module:e(t),"store-options":e(n).storeOptions,"form-modal-options":e(n).formModalOptions,"search-by-field-name":e(n).searchByFieldName,"get-all":!1},null,8,["module","store-options","form-modal-options","search-by-field-name"])],64)}}}),Ve=C({__name:"faithMilestones",setup(v){const t=z.faithMilestones,r=k(),n=x({loading:{page:!1},searchByFieldName:"name",storeOptions:{storeState:t.store.faithMilestones,...t.options.store},formModalOptions:{moduleName:t.name,components:{formComponent:t.form.component,buttonIconComponent:t.form.createButtonIconComponent},routePath:t.routePath,width:t.form.modalWidthSize,hiddenFieldsOnEdit:t.dataTable.hiddenFieldsOnEdit,form:t.form.model}});return(p,a)=>{const l=B,c=F;return g(),O(T,null,[o(l,null,{left:s(()=>[h("b",null,w(e(r).translate("manage_faith_milestones")),1)]),right:s(()=>a[0]||(a[0]=[])),_:1}),o(c,{module:e(t),"store-options":e(n).storeOptions,"form-modal-options":e(n).formModalOptions,"search-by-field-name":e(n).searchByFieldName,"get-all":!0},null,8,["module","store-options","form-modal-options","search-by-field-name"])],64)}}}),Je=C({__name:"peopleGroups",setup(v){const t=z.peopleGroups,r=k();console.log(t);const n=x({loading:{page:!1},searchByFieldName:"name",storeOptions:{storeState:t.store.peopleGroups,...t.options.store},formModalOptions:{moduleName:t.name,components:{formComponent:t.form.component,buttonIconComponent:t.form.createButtonIconComponent},routePath:t.routePath,width:t.form.modalWidthSize,hiddenFieldsOnEdit:t.dataTable.hiddenFieldsOnEdit,form:t.form.model}});return(p,a)=>{const l=B,c=F;return g(),O(T,null,[o(l,null,{left:s(()=>[h("b",null,w(e(r).translate("manage_people_groups")),1)]),right:s(()=>a[0]||(a[0]=[])),_:1}),o(c,{module:e(t),"store-options":e(n).storeOptions,"form-modal-options":e(n).formModalOptions,"search-by-field-name":e(n).searchByFieldName,"get-all":!1},null,8,["module","store-options","form-modal-options","search-by-field-name"])],64)}}}),qe=C({__name:"denominations",setup(v){const t=z.denominations,r=k(),n=x({loading:{page:!1},searchByFieldName:"name",storeOptions:{storeState:t.store.denominations,...t.options.store},formModalOptions:{moduleName:t.name,components:{formComponent:t.form.component,buttonIconComponent:t.form.createButtonIconComponent},routePath:t.routePath,width:t.form.modalWidthSize,hiddenFieldsOnEdit:t.dataTable.hiddenFieldsOnEdit,form:t.form.model}});return(p,a)=>{const l=B,c=F;return g(),O(T,null,[o(l,null,{left:s(()=>[h("b",null,w(e(r).translate("manage_denominations")),1)]),right:s(()=>a[0]||(a[0]=[])),_:1}),o(c,{module:e(t),"store-options":e(n).storeOptions,"form-modal-options":e(n).formModalOptions,"search-by-field-name":e(n).searchByFieldName,"get-all":!0},null,8,["module","store-options","form-modal-options","search-by-field-name"])],64)}}}),He=C({__name:"communityChecklists",setup(v){const t=z.communityChecklist,r=k(),n=x({loading:{page:!1},needToRefresh:!1,searchByFieldName:"name",storeOptions:{storeState:t.store.communityChecklists,...t.options.store},formModalOptions:{moduleName:t.name,components:{formComponent:t.form.component,buttonIconComponent:t.form.createButtonIconComponent},routePath:t.routePath,width:t.form.modalWidthSize,hiddenFieldsOnEdit:t.dataTable.hiddenFieldsOnEdit,form:t.form.model}}),p=q.COMMUNITY_CHECKLIST_UPDATE;return Pe(()=>{const c=le().communityChecklists;console.log("Original Order",c)}),{render:{orderColumn:()=>{const l=t.dataTable.columns.find(c=>c.title==="Order");l&&(l.render=c=>{const m=le(),d=ne(()=>m.communityChecklists);function _(D){return async P=>{const N=d.value.find(U=>U.id===P.id);if(!N)return;const E=N.order+D,W=d.value.find(U=>U.order===E);W&&(W.order=N.order,N.order=E,await j(p).save(d.value)&&(n.needToRefresh=!0))}}const i=_(1),b=_(-1);return L("div",{style:"display: flex; gap: 8px; align-items: center;"},[L(J,{size:"small",tertiary:!0,circle:!0,onClick:()=>i(c)},{icon:()=>L(re,null,{default:()=>L(Re)})}),L(J,{size:"small",tertiary:!0,circle:!0,onClick:()=>b(c)},{icon:()=>L(re,null,{default:()=>L(Ee)})})])})}}}.render.orderColumn(),(l,c)=>{const m=B,d=F;return g(),O(T,null,[o(m,null,{left:s(()=>[h("b",null,w(e(r).translate("manage_community_checklist")),1)]),right:s(()=>c[1]||(c[1]=[])),_:1}),o(d,{module:e(t),"store-options":e(n).storeOptions,"form-modal-options":e(n).formModalOptions,"search-by-field-name":e(n).searchByFieldName,"get-all":!0,"need-to-refresh":e(n).needToRefresh,onRefreshed:c[0]||(c[0]=_=>e(n).needToRefresh=!1)},null,8,["module","store-options","form-modal-options","search-by-field-name","need-to-refresh"])],64)}}}),Ke=C({__name:"EditTranslationWord",props:{wordId:{type:Number,required:!0},disabledState:{type:Boolean,required:!0},selectedLanguage:{type:Number},translatedWord:{type:Object,required:!0}},setup(v){const t=k(),r=me(),n=V(""),p=ue(),a=v,l=x({data:{languages:[]},selectedTranslation:null,isNew:!1}),c=async()=>{const m={system_language_id:a.selectedLanguage,system_language_word_id:a.wordId,translation:n.value},d=localStorage.getItem("Bearer")||"";let _={Accept:"application/json","Content-Type":"application/json"};d&&(_.Authorization=d);const i=r.public.apiURL+(l.isNew?"languages/translations":"languages/translations/"+l.selectedTranslation.id);await $fetch(i,{method:l.isNew?"POST":"PUT",body:m,headers:_}),p.success({title:t.translate("word_saved")===""?"Word Translation Saved.":t.translate("word_saved"),duration:1500})};return ae(()=>a.selectedLanguage,m=>{var _;if(!m)return;const d=(_=a.translatedWord)==null?void 0:_.find(i=>i.system_language_id===m);l.isNew=!d,l.selectedTranslation=d||null,n.value=(d==null?void 0:d.translation)||""}),(m,d)=>{const _=Q;return g(),G(_,{type:"text",size:"small",value:e(n),"onUpdate:value":d[0]||(d[0]=i=>de(n)?n.value=i:null),placeholder:e(t).translate("input_a_translated_word"),disabled:a.disabledState,onBlur:c},null,8,["value","placeholder","disabled"])}}}),Xe={key:0},Ye=C({__name:"SystemLanguageWord",props:{showModal:{type:Boolean,default:!1},editData:{type:[Boolean,Object]},storeOptions:{type:[Boolean,Object],default:()=>({storeState:te().languages,isPersist:!0,key:"users"})}},emits:["modalClosed"],setup(v,{emit:t}){const r=q.LANGUAGE_WORDS,n=t,p=k(),a=v,l=x({editData:JSON.parse(JSON.stringify(a.editData))}),c={handleCloseModal(){n("modalClosed")},handleSave:async()=>{await j(r,a.editData!==!1?a.editData.id:void 0).save(l.editData,a.storeOptions),n("modalClosed")},handleEditWord(m){if(l.editData){const d=m.replace(/[\s\-–—]/g,"_").toLowerCase();l.editData.word=d,l.editData.id&&(l.editData.id=l.editData.id)}},helper:{hasUpdate(m){return typeof m.update=="function"}}};return ae(()=>a.editData,m=>{m?l.editData=JSON.parse(JSON.stringify(m)):l.editData={word:""}}),(m,d)=>{const _=Q,i=J,b=se,D=oe,P=ie;return g(),G(P,{show:m.showModal,"transform-origin":"center","trap-focus":!0,"mask-closable":!1},{default:s(()=>[o(D,{style:{width:"600px"},title:`${a.editData?"Edit":"Create"} Word`,bordered:!1,size:"small",role:"dialog","aria-modal":"true"},{footer:s(()=>[o(b,{justify:"end"},{default:s(()=>[o(i,{type:"default",size:"small",onClick:c.handleCloseModal},{default:s(()=>[$(w(e(p).translate("cancel")),1)]),_:1},8,["onClick"]),o(i,{type:"primary",size:"small",onClick:c.handleSave},{default:s(()=>[$(w(e(p).translate("save")),1)]),_:1},8,["onClick"])]),_:1})]),default:s(()=>[e(l).editData!==!1?(g(),O("div",Xe,[o(_,{type:"text",placeholder:"Input a word",value:e(l).editData.word,size:"small",onInput:c.handleEditWord},null,8,["value","onInput"])])):ee("",!0)]),_:1},8,["title"])]),_:1},8,["show"])}}}),Qe={style:{width:"50%"}},Ze={class:"controls"},et=C({__name:"languages",setup(v){const t=V(void 0),r=k(),n={languages:q.LANGUAGES,words:q.LANGUAGE_WORDS},p={consumeLanguages:j(n.languages),consumeWords:j(n.words)},a=x({formStoreOptions:{},loading:{page:!1},show:{editModal:!1},data:{languages:[],words:[],initial_words:[],editData:{id:0,word:""},translations:{}},languagesStoreOptions:{storeState:te().languages,isPersist:!0,key:"languages"},wordsStoreOptions:{storeState:te().words,isPersist:!0,key:"words"}}),l={getData:async()=>{a.loading.page=!0;const m=await p.consumeLanguages.browse({all:!0,with:JSON.stringify(["translations"])},a.languagesStoreOptions);a.data.languages=m;const d=await p.consumeWords.browse({all:!0,with:JSON.stringify(["translations"])},a.wordsStoreOptions);a.data.words=d,a.data.initial_words=d,a.loading.page=!1},getTranslatedWord:m=>{const d=a.data.languages.find(i=>i.id===t.value);let _="";if(d&&d.translations){const i=d.translations.find(b=>b.system_language_word_id===m);i&&(_=i.translation)}return a.data.translations[m]={translation:_},_},handle:{change:{searchInput:m=>{const d=a.data.initial_words.filter(_=>_.word.includes(m));a.data.words=d}},click:{createWordButton:()=>{a.data.editData=!1,a.data.editData={id:null,word:""},a.formStoreOptions=a.wordsStoreOptions,a.show.editModal=!0}},openEditModal:m=>{a.show.editModal=!0,a.data.editData=m},modalClosed:()=>{l.getData(),a.show.editModal=!1},deleted:m=>{m&&l.getData()}}};l.getData();const c=ne(()=>a.data.languages.map(m=>({label:m.name,value:m.id})));return(m,d)=>{const _=_e,i=B,b=Q,D=J,P=Ie,N=we,E=Ue,W=Oe,U=se,f=Ke,u=Se,I=Z,H=oe,S=Ae,K=Ye,A=pe;return g(),G(A,{style:{"max-height":"calc(100vh - 120px)"}},{default:s(()=>[o(S,{show:e(a).loading.page},{default:s(()=>[o(i,null,{left:s(()=>[h("b",null,w(e(r).translate("manage_system_languages")),1)]),right:s(()=>[h("div",null,[o(_,{placeholder:e(r).translate("select_language"),value:e(t),"onUpdate:value":d[0]||(d[0]=M=>de(t)?t.value=M:null),options:e(c),style:{width:"200px"}},null,8,["placeholder","value","options"])])]),_:1}),o(H,{size:"small"},{default:s(()=>[o(I,{vertical:"",size:10},{default:s(()=>[o(N,null,{default:s(()=>[o(b,{type:"text",placeholder:e(r).translate("search_word"),clearable:"",size:"small",onInput:l.handle.change.searchInput},null,8,["placeholder","onInput"]),o(P,{trigger:"hover"},{trigger:s(()=>[o(D,{type:"success",secondary:"",size:"small",onClick:l.handle.click.createWordButton},{icon:s(()=>[o(e(De))]),_:1},8,["onClick"])]),default:s(()=>[$(" "+w(e(r).translate("create_word")),1)]),_:1})]),_:1}),o(u,{bordered:!0,"single-line":!0,class:"lang-table",size:"small"},{default:s(()=>[h("thead",null,[h("tr",null,[d[2]||(d[2]=h("th",{width:"470px"},"Word",-1)),d[3]||(d[3]=h("th",{style:{width:"120px","text-align":"center"}},null,-1)),h("th",Qe,w(e(r).translate("translation")),1)])]),h("tbody",null,[(g(!0),O(T,null,ce(e(a).data.words,M=>(g(),O("tr",{key:M.id},[h("td",null,[o(E,{style:{"max-width":"400px"}},{default:s(()=>[$(w(M.word),1)]),_:2},1024)]),h("td",null,[h("div",Ze,[o(U,{justify:"center"},{default:s(()=>[o(D,{type:"warning",secondary:"",size:"small",onClick:R=>l.handle.openEditModal(M)},{icon:s(()=>[o(e(be))]),_:2},1032,["onClick"]),o(W,{id:M.id,model:n.words,onDeleteProgress:l.handle.deleted},null,8,["id","model","onDeleteProgress"])]),_:2},1024)])]),h("td",null,[Ne([M.translations],()=>o(f,{"word-id":M.id,"disabled-state":!e(t),"selected-language":e(t),"translated-word":M.translations},null,8,["word-id","disabled-state","selected-language","translated-word"]),d,1)])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1},8,["show"]),o(K,{"show-modal":e(a).show.editModal,"edit-data":e(a).data.editData,"store-options":e(a).formStoreOptions,onModalClosed:l.handle.modalClosed},null,8,["show-modal","edit-data","store-options","onModalClosed"])]),_:1})}}}),tt=Y(et,[["__scopeId","data-v-e3c0ba68"]]),ot={class:"label"},nt={class:"noti-container"},at={key:0,class:"time-container"},st={class:"label"},lt={class:"time-selection"},rt=C({__name:"notifications",setup(v){const t=te(),r=k(),n=[{value:"days",label:"Days"},{value:"weeks",label:"Weeks"},{value:"months",label:"Months"}],p=[{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"},{value:7,label:"Sunday"}],a=Array.from({length:31},(f,u)=>({value:u+1,label:`${u+1}${d(u+1)}`})),l=Array.from({length:12},(f,u)=>({value:u+1,label:`${u+1}`})),c=Array.from({length:60},(f,u)=>({value:u,label:u.toString().padStart(2,"0")})),m=[{value:"AM",label:"AM"},{value:"PM",label:"PM"}];function d(f){if(f>3&&f<21)return"th";switch(f%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}const _=()=>t.languages.reduce((f,u)=>(f[u.name]={id:u.id,title:"Venture Tools Reminder",body:"Example: Don't forget to check Venture Tools and update your church!"},f),{}),i=V({enabled:!1,intervalValue:1,intervalUnit:null,notificationMessage:_(),time:{hour:9,minute:0,ampm:"AM",dayOfWeek:1,dayOfMonth:1}}),b=q.NOTIFICATIONS,D=j(b),P=V(null),N=V(null),E=async()=>{var f;try{const u=await D.browse({all:!0});if(N.value=Array.isArray(u)&&u.length>0?u[0]:null,(f=N.value)!=null&&f.value){P.value=N.value.id??null;const I=JSON.parse(N.value.value);Object.assign(i.value,I)}}catch(u){console.error("Error fetching notification:",u)}},W=async()=>{try{const f={name:"notification_interval",value:JSON.stringify(i.value)};if(P.value)await j(b,P.value).save(f);else{const u=await D.save(f);P.value=u.id??null}}catch(f){console.error("Error saving notification:",f)}},U=ne(()=>{const{enabled:f,intervalValue:u,intervalUnit:I,notificationMessage:H,time:S}=i.value,K=Object.values(H).some(({title:M,body:R})=>!(M!=null&&M.trim())||!(R!=null&&R.trim())),A=S.hour===void 0||S.minute===void 0||!S.ampm||I==="weeks"&&(S.dayOfWeek===void 0||S.dayOfWeek<1||S.dayOfWeek>7)||I==="months"&&(S.dayOfMonth===void 0||S.dayOfMonth<1||S.dayOfMonth>31);return!f||!u||!I||K||A});return ae(()=>t.languages,f=>{f!=null&&f.length&&(i.value.notificationMessage=_())},{immediate:!0}),E(),(f,u)=>{const I=B,H=Be,S=oe,K=Ce,A=_e,M=Q,R=Z,ge=J,ye=se,ve=pe;return g(),O(T,null,[o(I,null,{left:s(()=>u[8]||(u[8]=[h("b",null,"Manage Notification",-1)])),right:s(()=>u[9]||(u[9]=[])),_:1}),o(ve,{style:{height:"calc(100vh - 160px)"}},{default:s(()=>[o(S,{size:"small"},{default:s(()=>[o(R,{vertical:"",size:10},{default:s(()=>[o(S,{size:"small",title:e(r).translate("status")},{default:s(()=>[$(w(e(r).translate("enable_notification"))+"   ",1),o(H,{value:e(i).enabled,"onUpdate:value":u[0]||(u[0]=y=>e(i).enabled=y)},null,8,["value"])]),_:1},8,["title"]),o(S,{size:"small",title:e(r).translate("interval")},{default:s(()=>[h("div",ot,w(e(r).translate("how_often_should_the_notifications_be_sent")),1),h("div",nt,[h("div",null,w(e(r).translate("once_every")),1),o(K,{value:e(i).intervalValue,"onUpdate:value":u[1]||(u[1]=y=>e(i).intervalValue=y),placeholder:e(r).translate("please_enter_a_number"),min:1,disabled:!e(i).enabled,class:"input"},null,8,["value","placeholder","disabled"]),o(A,{placeholder:e(r).translate("please_select_unit"),value:e(i).intervalUnit,"onUpdate:value":u[2]||(u[2]=y=>e(i).intervalUnit=y),options:n,disabled:!e(i).enabled,class:"select"},null,8,["placeholder","value","disabled"])]),e(i).enabled&&e(i).intervalUnit?(g(),O("div",at,[h("div",st,w(e(r).translate("at_what_time")),1),h("div",lt,[e(i).intervalUnit==="weeks"?(g(),G(A,{key:0,value:e(i).time.dayOfWeek,"onUpdate:value":u[3]||(u[3]=y=>e(i).time.dayOfWeek=y),options:p,placeholder:e(r).translate("select_day"),class:"select"},null,8,["value","placeholder"])):ee("",!0),e(i).intervalUnit==="months"?(g(),G(A,{key:1,value:e(i).time.dayOfMonth,"onUpdate:value":u[4]||(u[4]=y=>e(i).time.dayOfMonth=y),options:e(a),placeholder:e(r).translate("select_day"),class:"select"},null,8,["value","options","placeholder"])):ee("",!0),o(A,{value:e(i).time.hour,"onUpdate:value":u[5]||(u[5]=y=>e(i).time.hour=y),options:e(l),placeholder:e(r).translate("hour"),class:"select"},null,8,["value","options","placeholder"]),o(A,{value:e(i).time.minute,"onUpdate:value":u[6]||(u[6]=y=>e(i).time.minute=y),options:e(c),placeholder:e(r).translate("minute"),class:"select"},null,8,["value","options","placeholder"]),o(A,{value:e(i).time.ampm,"onUpdate:value":u[7]||(u[7]=y=>e(i).time.ampm=y),options:m,placeholder:e(r).translate("am_pm"),class:"select"},null,8,["value","placeholder"])])])):ee("",!0)]),_:1},8,["title"]),o(S,{size:"small",title:e(r).translate("message")},{default:s(()=>[o(R,{vertical:"",size:20},{default:s(()=>[(g(!0),O(T,null,ce(e(t).languages.sort((y,X)=>y.id-X.id),y=>(g(),G(S,{size:"small",title:e(r).translate(e(r).toSnakeCase(y.name))},{default:s(()=>[o(R,{size:20,vertical:""},{default:s(()=>[o(M,{value:e(i).notificationMessage[y.name].title,"onUpdate:value":X=>e(i).notificationMessage[y.name].title=X,placeholder:e(r).translate(e(r).toSnakeCase(`enter_the_message_title_in_${y.name}`)),disabled:!e(i).enabled,maxlength:"100","show-count":""},null,8,["value","onUpdate:value","placeholder","disabled"]),o(M,{value:e(i).notificationMessage[y.name].body,"onUpdate:value":X=>e(i).notificationMessage[y.name].body=X,placeholder:e(r).translate(e(r).toSnakeCase(`enter_the_message_body_in_${y.name}`)),disabled:!e(i).enabled,type:"textarea",maxlength:"200","show-count":""},null,8,["value","onUpdate:value","placeholder","disabled"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:1})]),_:1},8,["title"]),o(ye,{justify:"end"},{default:s(()=>[o(ge,{type:"success",secondary:"",size:"medium",onClick:W,class:"button",disabled:e(U)},{default:s(()=>[$(w(e(P)?"Update":"Create"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})],64)}}}),it=Y(rt,[["__scopeId","data-v-cfbea033"]]),dt=C({__name:"movements",setup(v){const t=z.movements,r=x({loading:{page:!1},searchByFieldName:"name",storeOptions:{storeState:t.store.movements,...t.options.store},formModalOptions:{moduleName:t.name,components:{formComponent:t.form.component,buttonIconComponent:t.form.createButtonIconComponent},routePath:t.routePath,width:t.form.modalWidthSize,hiddenFieldsOnEdit:t.dataTable.hiddenFieldsOnEdit,form:t.form.model}});return(n,p)=>{const a=B,l=F;return g(),O(T,null,[o(a,null,{left:s(()=>p[0]||(p[0]=[h("b",null,"Manage Movements",-1)])),right:s(()=>p[1]||(p[1]=[])),_:1}),o(l,{module:e(t),"store-options":e(r).storeOptions,"form-modal-options":e(r).formModalOptions,"search-by-field-name":e(r).searchByFieldName,"get-all":!0},null,8,["module","store-options","form-modal-options","search-by-field-name"])],64)}}}),mt=C({__name:"prayerPrompts",setup(v){const t=z.prayerPrompts,r=k(),n=x({loading:{page:!1},searchByFieldName:"prompt_text",storeOptions:{storeState:t.store.prayerPrompts,...t.options.store},formModalOptions:{moduleName:t.name,components:{formComponent:t.form.component,buttonIconComponent:t.form.createButtonIconComponent},routePath:t.routePath,width:t.form.modalWidthSize,hiddenFieldsOnEdit:t.dataTable.hiddenFieldsOnEdit,form:t.form.model}}),p=ne(()=>r.translate("manage_prayer_prompts")===""?"Manage Prayer Prompt":r.translate("manage_prayer_prompts"));return(a,l)=>{const c=B,m=F;return g(),O(T,null,[o(c,null,{left:s(()=>[h("b",null,w(e(p)),1)]),right:s(()=>l[0]||(l[0]=[])),_:1}),o(m,{module:e(t),"store-options":e(n).storeOptions,"form-modal-options":e(n).formModalOptions,"search-by-field-name":e(n).searchByFieldName,"get-all":!0},null,8,["module","store-options","form-modal-options","search-by-field-name"])],64)}}}),ct={},ut={style:{padding:"10px 0"}};function pt(v,t){const r=Z;return g(),O("div",ut,[o(r,{vertical:"",size:10},{default:s(()=>t[0]||(t[0]=[$(" Synchronize ")])),_:1})])}const _t=Y(ct,[["render",pt]]),ft={style:{padding:"10px 0",width:"calc(100% - 10px)"}},ht=C({__name:"Configure",setup(v){const t=ue(),r=me(),n=localStorage.getItem("Bearer"),p=x({states:{disabled:{input:{username:!1,apiSecret:!1}}},form:{apiUsername:"",apiSecret:""}}),a={handleUsernameChange(){const l=a.callAPI("POST","settings/ishare/save",{setting_name:"iShareAPIUserName",setting_value:p.form.apiUsername});console.log(l)},handleSecretChange(){const l=a.callAPI("POST","settings/ishare/save",{setting_name:"iShareAPISecret",setting_value:p.form.apiSecret});console.log(l)},getSettings:async()=>{const l=await a.callAPI("GET","settings/ishare/get");l.length>0&&l.forEach(c=>{c.name==="iShareAPIUserName"&&(p.form.apiUsername=JSON.parse(c.value)),c.name==="iShareAPISecret"&&(p.form.apiSecret=JSON.parse(c.value))})},callAPI:async(l,c,m)=>{let d={Accept:"application/json","Content-Type":"application/json"};n&&(d.Authorization=n);const _={method:l,credentials:"include",headers:d};l==="POST"&&(_.body=m);const i=await $fetch(r.public.apiURL+c,_).catch(b=>{console.error(b),t.error({title:"Error",description:b.response.status+" "+b.response._data.message,duration:1e3,keepAliveOnHover:!0})});return l==="POST"&&t.success({title:"Success",description:"Settings saved successfully.",duration:1e3,keepAliveOnHover:!0}),i}};return a.getSettings(),(l,c)=>{const m=Q,d=$e,_=ze,i=Z;return g(),O("div",ft,[o(i,{vertical:"",size:10},{default:s(()=>[o(_,{"label-placement":"left","label-width":"100",size:"small"},{default:s(()=>[o(d,{label:"Username"},{default:s(()=>[o(m,{value:e(p).form.apiUsername,"onUpdate:value":c[0]||(c[0]=b=>e(p).form.apiUsername=b),placeholder:"Username",onChange:a.handleUsernameChange},null,8,["value","onChange"])]),_:1}),o(d,{label:"API Secret"},{default:s(()=>[o(m,{value:e(p).form.apiSecret,"onUpdate:value":c[1]||(c[1]=b=>e(p).form.apiSecret=b),placeholder:"API Secret",onChange:a.handleSecretChange},null,8,["value","onChange"])]),_:1})]),_:1})]),_:1})])}}}),gt={};function yt(v,t){const r=_t,n=fe,p=ht,a=he;return g(),G(a,{type:"line","default-value":"configure"},{default:s(()=>[o(n,{name:"synchronize",tab:"Synchronize",class:"tab"},{default:s(()=>[o(r)]),_:1}),o(n,{name:"configure",tab:"Configure",class:"tab"},{default:s(()=>[o(p)]),_:1})]),_:1})}const vt=Y(gt,[["render",yt],["__scopeId","data-v-2a093c0c"]]),bt=C({__name:"settings",setup(v){const t=ke(),r=Te(),n=k(),p=x({currentTab:t.query.settingType});"settingType"in t.query||r.push({query:{settingType:"users"}});const a={handleTabChange(l){p.currentTab=l,r.push({query:{settingType:l}})}};return ae(()=>t.query.settingType,l=>{p.currentTab=l}),(l,c)=>{const m=Le,d=fe,_=je,i=Ve,b=Je,D=qe,P=He,N=tt,E=it,W=dt,U=mt,f=vt,u=he,I=Z;return g(),G(I,{vertical:""},{default:s(()=>[o(u,{type:"card",animated:"",placement:"left",value:e(p).currentTab,style:{height:"calc(100vh - 100px)"},"onUpdate:value":a.handleTabChange},{default:s(()=>[o(d,{name:"users",tab:e(n).translate("users"),class:"tab"},{default:s(()=>[o(m)]),_:1},8,["tab"]),o(d,{name:"communication_Platforms",tab:e(n).translate("communication_platforms"),class:"tab"},{default:s(()=>[o(_)]),_:1},8,["tab"]),o(d,{name:"faith_milestones",tab:e(n).translate("faith_milestones"),class:"tab"},{default:s(()=>[o(i)]),_:1},8,["tab"]),o(d,{name:"people_groups",tab:e(n).translate("people_group"),class:"tab"},{default:s(()=>[o(b)]),_:1},8,["tab"]),o(d,{name:"denominations",tab:e(n).translate("denominations"),class:"tab"},{default:s(()=>[o(D)]),_:1},8,["tab"]),o(d,{name:"community_checklists",tab:e(n).translate("community_checklists"),class:"tab"},{default:s(()=>[o(P)]),_:1},8,["tab"]),o(d,{name:"languages",tab:e(n).translate("languages"),class:"tab"},{default:s(()=>[o(N)]),_:1},8,["tab"]),o(d,{name:"notifications",tab:e(n).translate("notifications"),class:"tab"},{default:s(()=>[o(E)]),_:1},8,["tab"]),o(d,{name:"movements",tab:e(n).translate("movements"),class:"tab"},{default:s(()=>[o(W)]),_:1},8,["tab"]),o(d,{name:"prayer_prompts",tab:e(n).translate("prayer_prompts")!==""?e(n).translate("prayer_prompts"):"Prayer Prompts",class:"tab"},{default:s(()=>[o(U)]),_:1},8,["tab"]),o(d,{name:"ishare",tab:"iShare API",class:"tab"},{default:s(()=>[o(f)]),_:1})]),_:1},8,["value","onUpdate:value"])]),_:1})}}}),so=Y(bt,[["__scopeId","data-v-750de6af"]]);export{so as default};
