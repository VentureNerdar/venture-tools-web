import{P as C}from"./BeFeU7_K.js";import{m as $,o as u,c as f,b as r,w as n,u as l,q as k,F as P,I as b,p as M,a as t,t as s,d as _,B as I,_ as S,r as B,n as O,s as H}from"./YtHq8OO6.js";import{_ as T}from"./B8IuYtWG.js";import{N as A,b as W,a as U}from"./B2BENFcM.js";import{_ as D}from"./CuPjbSZl.js";import{_ as Y,a as E}from"./hcj_sLov.js";import{_ as V,a as F}from"./BQ9H-sZ0.js";import{C as J}from"./VF81FhPJ.js";import{P as j}from"./DTP3YROr.js";import{_ as q}from"./CO5yzLcq.js";import{_ as G,a as K}from"./Lw4P4SRQ.js";import{u as N,R as w}from"./BBjd8h0q.js";import{u as Q}from"./BAN_zDd4.js";import"./CZO7QJqz.js";import"./DZz3KrMK.js";import"./DtLsCNB5.js";import"./9v5S6Rov.js";const X={class:"load-more"},Z=$({__name:"Mobile",props:{d:{},m:{},h:{},hasMore:{type:Boolean}},setup(R){return(a,v)=>{const p=T,g=A,d=D,i=Y,y=E,m=V,c=F,h=I;return u(),f(P,null,[r(c,{"default-value":"church",size:"large","justify-content":"space-evenly",animated:""},{default:n(()=>[r(m,{name:"church",tab:("h"in a?a.h:l(k)).translate("churches_prayers"),class:"card-container"},{default:n(()=>[r(y,{class:"card",bordered:""},{default:n(()=>[(u(!0),f(P,null,b(a.d.prayers.churchPrayers,e=>(u(),M(i,{key:e.id},{default:n(()=>[r(d,{vertical:"",size:8},{default:n(()=>[t("div",null,[t("b",null,s(e.name),1)]),t("div",null,[r(p,{depth:"3"},{default:n(()=>[_(s(e.current_prayers),1)]),_:2},1024)]),t("div",null,[r(p,{type:e.user_has_prayed?"primary":"secondary"},{default:n(()=>[r(g,{component:l(C),size:16,class:"praying-hands",onClick:o=>a.m.handle.click.churchPrayerCount(e)},null,8,["component","onClick"]),_("   "+s(a.m.handle.click.formattedPrayerCount(e)),1)]),_:2},1032,["type"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["tab"]),r(m,{name:"contact",tab:("h"in a?a.h:l(k)).translate("assigned_contacts_prayers")},{default:n(()=>[r(y,{bordered:""},{default:n(()=>[(u(!0),f(P,null,b(a.d.prayers.contactPrayers,e=>(u(),M(i,{key:e.id},{default:n(()=>[r(d,{vertical:"",size:8},{default:n(()=>[t("div",null,[t("b",null,s(e.name),1)]),t("div",null,[r(p,{depth:"3"},{default:n(()=>[_(s(e.current_prayers),1)]),_:2},1024)]),t("div",null,[r(p,{type:e.user_has_prayed?"primary":"secondary"},{default:n(()=>[r(g,{component:l(C),size:16,class:"praying-hands",onClick:o=>a.m.handle.click.contactPrayerCount(e)},null,8,["component","onClick"]),_("   "+s(a.m.handle.click.formattedPrayerCount(e)),1)]),_:2},1032,["type"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["tab"])]),_:1}),t("div",X,[r(h,{text:"",type:"primary",size:"small",onClick:a.m.handle.click.loadMore},{default:n(()=>[_(s(a.hasMore?"Load More ...":"No More Data"),1)]),_:1},8,["onClick"])])],64)}}}),x=S(Z,[["__scopeId","data-v-4f88c045"]]),ee={class:"center-vertically"},re={class:"center-vertically"},ne={class:"center-vertically"},ae={class:"load-more"},te=$({__name:"Desktop",props:{d:{},m:{},h:{},hasMore:{type:Boolean}},setup(R){return(a,v)=>{const p=A,g=q,d=T,i=D,y=Y,m=E,c=G,h=K,e=I;return u(),f(P,null,[r(h,{"x-gap":"10",cols:"3"},{default:n(()=>[r(c,null,{default:n(()=>[t("h4",ee,[r(p,{component:l(J),size:20},null,8,["component"]),_("   "+s(("h"in a?a.h:l(k)).translate("churches_prayers"))+"   ",1),r(g,{bordered:!1,size:"small",type:"info"},{default:n(()=>[_(s(a.d.prayers.churchPrayers.length),1)]),_:1})]),r(i,{size:10,vertical:""},{default:n(()=>[r(m,{bordered:""},{default:n(()=>[(u(!0),f(P,null,b(a.d.prayers.churchPrayers,o=>(u(),M(y,{key:o.id},{default:n(()=>[r(i,{size:10,vertical:""},{default:n(()=>[t("div",re,[t("b",null,s(o.name),1)]),t("div",null,[r(d,{depth:3},{default:n(()=>[_(s(o.current_prayers),1)]),_:2},1024)]),t("div",null,[r(d,{type:o.user_has_prayed?"primary":"secondary"},{default:n(()=>[r(p,{component:l(C),size:16,class:"praying-hands",onClick:z=>a.m.handle.click.churchPrayerCount(o)},null,8,["component","onClick"]),_("   "+s(a.m.handle.click.formattedPrayerCount(o)),1)]),_:2},1032,["type"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),r(c,null,{default:n(()=>[t("h4",ne,[r(p,{component:l(j),size:20},null,8,["component"]),_("   "+s(("h"in a?a.h:l(k)).translate("assigned_contacts_prayers"))+"   ",1),r(g,{bordered:!1,size:"small",type:"info"},{default:n(()=>[_(s(a.d.prayers.contactPrayers.length),1)]),_:1})]),r(i,{size:10,vertical:""},{default:n(()=>[r(m,{bordered:""},{default:n(()=>[(u(!0),f(P,null,b(a.d.prayers.contactPrayers,o=>(u(),M(y,{key:o.id},{default:n(()=>[r(i,{size:10,vertical:""},{default:n(()=>[t("div",null,[t("b",null,s(o.name),1)]),t("div",null,[r(d,{depth:3},{default:n(()=>[_(s(o.current_prayers),1)]),_:2},1024)]),t("div",null,[r(d,{type:o.user_has_prayed?"primary":"secondary"},{default:n(()=>[r(p,{component:l(C),size:16,class:"praying-hands",onClick:z=>a.m.handle.click.contactPrayerCount(o)},null,8,["component","onClick"]),_("   "+s(a.m.handle.click.formattedPrayerCount(o)),1)]),_:2},1032,["type"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),r(h,{"x-gap":"10",cols:"3",class:"wrapper"},{default:n(()=>[r(c,{span:2},{default:n(()=>[t("div",ae,[r(e,{text:"",type:"primary",size:"small",onClick:a.m.handle.click.loadMore},{default:n(()=>[_(s(a.hasMore?"Load More ...":"No More Data"),1)]),_:1},8,["onClick"])])]),_:1})]),_:1})],64)}}}),oe=S(te,[["__scopeId","data-v-d7b1234c"]]),se={key:0},le={key:1},ce=$({__name:"prayers",async setup(R){let a,v;const p=W(),{isMobile:g}=Q();console.log("Language Words:",{storeWords:p.words,localStorageWords:JSON.parse(localStorage.getItem("languageWords")||"[]")});const d={prayers:N(w.SETTINGS_PRAYERS),churchPrayerCount:N(w.CHURCH_PRAYER_COUNT),contactPrayerCount:N(w.CONTACT_PRAYER_COUNT)},i=U(),y=B(2),m=B(!0),c=O({prayers:{}}),h={handle:{click:{contactPrayerCount:async e=>{if(e.user_has_prayed)return;await d.contactPrayerCount.save({contact_id:e.id})&&(e.user_has_prayed=!0,e.prayer_count+=1)},churchPrayerCount:async e=>{if(e.user_has_prayed)return;await d.churchPrayerCount.save({church_id:e.id})&&(e.user_has_prayed=!0,e.prayer_count+=1)},formattedPrayerCount:e=>e.user_has_prayed?e.prayer_count===1?"You prayed for this":e.prayer_count===2?"You and 1 other prayed for this":`You and ${e.prayer_count-1} others prayed for this`:e.prayer_count===1?"1 person prayed for this":e.prayer_count===0?"No one prayed for this":`${e.prayer_count} people prayed for this`,loadMore:async()=>{y.value+=y.value;const e=await h.handle.fetchPrayers();if(c.prayers.churchPrayers.length==e.churchPrayers.length&&c.prayers.contactPrayers.length==e.contactPrayers.length){m.value=!1;return}c.prayers.churchPrayers=e.churchPrayers,c.prayers.contactPrayers=e.contactPrayers}},fetchPrayers:async()=>await d.prayers.browse({with:JSON.stringify(y.value)},!1)}};return c.prayers=([a,v]=H(()=>h.handle.fetchPrayers()),a=await a,v(),a),console.log("Prayers:",c.prayers),(e,o)=>{const z=x,L=oe;return l(g)?(u(),f("div",se,[r(z,{d:l(c),m:h,h:l(i),hasMore:l(m)},null,8,["d","h","hasMore"])])):(u(),f("div",le,[r(L,{d:l(c),m:h,h:l(i),hasMore:l(m)},null,8,["d","h","hasMore"])]))}}}),Ne=S(ce,[["__scopeId","data-v-6e20c9d5"]]);export{Ne as default};
