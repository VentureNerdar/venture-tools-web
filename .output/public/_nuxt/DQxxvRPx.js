import{R as n,u as E}from"./c1_doccY.js";import{u as G}from"./DgW3EktX.js";import{u as k,_ as U}from"./BlTf7Mei.js";import{b as S,u as f}from"./CGD6v8QL.js";import{u as M,a as I,b}from"./DjFIetYA.js";import{d as O,t as m,v as p,x as o,u as W,J as B,bt as V,L as d,z as _,M as L,R as z,as as J,y as C,A as w,B as D,_ as F}from"./CT8Vtxko.js";import{_ as $}from"./BdOBLAwx.js";import{N as q}from"./BEAHezj2.js";import"./D1YZeuYH.js";import"./B7uyUjzP.js";import"./BpDzwQSV.js";import"./B-p6aW7q.js";const H={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},K=O({name:"CheckRound",render:function(y,g){return m(),p("svg",H,g[0]||(g[0]=[o("path",{d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z",fill:"currentColor"},null,-1)]))}}),Y={class:"wrap"},j={style:{"text-align":"center"}},Q={class:"load-list"},X={key:0},Z=O({__name:"splash",setup(x){const y=s=>new Promise(t=>setTimeout(t,s)),g=W(),e=B({completedModules:[],currentTaskText:"",defaultStoreOptions:{isPersist:!0},stores:{user:k(),languages:S(),settings:f()},logoLoaded:!1}),a={all:!0},T=[["User Roles",n.USERS_ROLES,"userRoles",{...e.defaultStoreOptions,key:"userRoles",storeState:k().userRoles},{...a}],["Languages",n.LANGUAGES,"languages",{...e.defaultStoreOptions,key:"languages",storeState:S().languages},{...a,with:JSON.stringify(["translations"])}],["Language Words",n.LANGUAGE_WORDS,"languageWords",{...e.defaultStoreOptions,key:"languageWords",storeState:S().words},a],["Statuses",n.SETTINGS_STATUSES,"statuses",{...e.defaultStoreOptions,key:"statuses",storeState:f().statuses},a],["People Groups",n.PEOPLE_GROUPS,"peopleGroups",{...e.defaultStoreOptions,key:"peopleGroups",storeState:M().peopleGroups},a],["Communication Platforms",n.COMMUNICATION_PLATFORMS,"communicationPlatforms",{...e.defaultStoreOptions,key:"communicationPlatforms",storeState:I().communicationPlatforms},a],["Community Checklists",n.COMMUNITY_CHECKLISTS,"communityChecklists",{...e.defaultStoreOptions,key:"communityChecklists",storeState:b().communityChecklists},a]],N=async()=>{for(const[s,t,l,u,i]of T){e.currentTaskText=`Fetching ${s}...`;const r=await P(s,t,i,{...e.defaultStoreOptions,key:l,store:u});if(s==="Languages"){const c=JSON.parse(localStorage.getItem("languages")||"[]"),v=f();let h;c&&(h=c.find(A=>A.locale==="en"),v.setUserPreferredLanguage(h))}if(s==="Language Words"){const c=S();r&&Array.isArray(r)&&(c.words.length=0,c.words.push(...r),localStorage.setItem("languageWords",JSON.stringify(r)))}await y(300),e.logoLoaded||(e.logoLoaded=!0)}R()},R=()=>{const s=G().authUser.user_role_id;let t="/dashboard";s===4&&(t="/prayers"),g.push(t)},P=async(s,t,l,u)=>{const i=E(t);return await i.browse(l,u),e.completedModules.push(s),s==="Community Checklists"&&(e.currentTaskText="Redirecting . . . "),i.browse(l,u)};return N(),(s,t)=>{const l=U,u=$,i=q;return m(),p(L,null,[o("div",Y,[o("div",j,[o("div",{class:V(`brand-logo ${d(e).logoLoaded?"loaded":""}`)}," VENTURE TOOLS ",2),t[0]||(t[0]=o("div",{class:"loading-text"},"L O A D I N G",-1)),_(l,{size:"small"})])]),o("div",Q,[d(e).completedModules.length>0?(m(),p("div",X,[(m(!0),p(L,null,z(d(e).completedModules,r=>(m(),p("div",{key:r},[_(i,null,{default:w(()=>[_(u,{type:"success"},{default:w(()=>[_(d(K))]),_:1})]),_:1}),D(" "+C(r),1)]))),128))])):J("",!0),o("div",null,C(d(e).currentTaskText),1),t[1]||(t[1]=o("div",{style:{clear:"both"}},null,-1))])],64)}}}),me=F(Z,[["__scopeId","data-v-242ec711"]]);export{me as default};
