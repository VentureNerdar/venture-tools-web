import{i as m,a7 as s,ce as g,a8 as u,cf as v,cg as h,d as _,ch as A,h as l,L as f,aD as b,ci as w,aV as j,cj as N,ck as I,cl as P}from"./XhYJCJRV.js";import{I as B,_ as E,B as k,a as C}from"./_qxj-Ane.js";function O(e,a){return m(()=>{for(const n of a)if(e[n]!==void 0)return e[n];return e[a[a.length-1]]})}function D(){const e=s(g,null);return e===null&&u("use-dialog","No outer <n-dialog-provider /> founded."),e}function M(){const e=s(v,null);return e===null&&u("use-loading-bar","No outer <n-loading-bar-provider /> founded."),e}function S(){const e=s(h,null);return e===null&&u("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}function x(){const e=s(B,null);return e===null&&u("use-notification","No outer `n-notification-provider` found."),e}const K=_({name:"InjectionExtractor",props:{onSetup:Function},setup(e,{slots:a}){var n;return(n=e.onSetup)===null||n===void 0||n.call(e),()=>{var t;return(t=a.default)===null||t===void 0?void 0:t.call(a)}}}),F={message:S,notification:x,loadingBar:M,dialog:D,modal:w};function L({providersAndProps:e,configProviderProps:a}){let n=A(c);const t={app:n};function c(){return l(E,f(a),{default:()=>e.map(({type:o,Provider:p,props:r})=>l(p,f(r),{default:()=>l(K,{onSetup:()=>t[o]=F[o]()})}))})}let i;return b&&(i=document.createElement("div"),document.body.appendChild(i),n.mount(i)),Object.assign({unmount:()=>{var o;if(n===null||i===null){j("discrete","unmount call no need because discrete app has been unmounted");return}n.unmount(),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=null,n=null}},t)}function Q(e,{configProviderProps:a,messageProviderProps:n,dialogProviderProps:t,notificationProviderProps:c,loadingBarProviderProps:i,modalProviderProps:d}={}){const o=[];return e.forEach(r=>{switch(r){case"message":o.push({type:r,Provider:P,props:n});break;case"notification":o.push({type:r,Provider:C,props:c});break;case"dialog":o.push({type:r,Provider:k,props:t});break;case"loadingBar":o.push({type:r,Provider:I,props:i});break;case"modal":o.push({type:r,Provider:N,props:d})}}),L({providersAndProps:o,configProviderProps:a})}export{M as a,O as b,D as c,Q as d,S as u};
