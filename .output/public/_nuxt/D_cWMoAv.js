import{j as f,a7 as s,cj as g,a8 as u,ck as v,cl as h,d as _,cm as A,h as l,M as m,aI as b,cn as j,aR as w,co as N,cp as I,cq as P}from"./BlwiRDIC.js";import{J as B,_ as C,C as E,a as M}from"./ChGy5axL.js";function L(e,a){return f(()=>{for(const n of a)if(e[n]!==void 0)return e[n];return e[a[a.length-1]]})}function k(){const e=s(g,null);return e===null&&u("use-dialog","No outer <n-dialog-provider /> founded."),e}function S(){const e=s(v,null);return e===null&&u("use-loading-bar","No outer <n-loading-bar-provider /> founded."),e}function x(){const e=s(h,null);return e===null&&u("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}function D(){const e=s(B,null);return e===null&&u("use-notification","No outer `n-notification-provider` found."),e}const K=_({name:"InjectionExtractor",props:{onSetup:Function},setup(e,{slots:a}){var n;return(n=e.onSetup)===null||n===void 0||n.call(e),()=>{var i;return(i=a.default)===null||i===void 0?void 0:i.call(a)}}}),q={message:x,notification:D,loadingBar:S,dialog:k,modal:j};function F({providersAndProps:e,configProviderProps:a}){let n=A(c);const i={app:n};function c(){return l(C,m(a),{default:()=>e.map(({type:o,Provider:p,props:r})=>l(p,m(r),{default:()=>l(K,{onSetup:()=>i[o]=q[o]()})}))})}let t;return b&&(t=document.createElement("div"),document.body.appendChild(t),n.mount(t)),Object.assign({unmount:()=>{var o;if(n===null||t===null){w("discrete","unmount call no need because discrete app has been unmounted");return}n.unmount(),(o=t.parentNode)===null||o===void 0||o.removeChild(t),t=null,n=null}},i)}function O(e,{configProviderProps:a,messageProviderProps:n,dialogProviderProps:i,notificationProviderProps:c,loadingBarProviderProps:t,modalProviderProps:d}={}){const o=[];return e.forEach(r=>{switch(r){case"message":o.push({type:r,Provider:P,props:n});break;case"notification":o.push({type:r,Provider:M,props:c});break;case"dialog":o.push({type:r,Provider:E,props:i});break;case"loadingBar":o.push({type:r,Provider:I,props:t});break;case"modal":o.push({type:r,Provider:N,props:d})}}),F({providersAndProps:o,configProviderProps:a})}export{S as a,L as b,D as c,k as d,O as e,x as u};
