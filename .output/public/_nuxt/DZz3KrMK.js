import{D as g,$ as u,cw as v,an as c,cx as _,cy as b,m as A,cz as h,q as p,u as f,ax as N,cA as w,aK as x,cB as j,cC as P,cD as B}from"./YtHq8OO6.js";import{ad as I,_ as C,a7 as D,a as E}from"./CZO7QJqz.js";function R(e,o){return g(()=>{for(const n of o)if(e[n]!==void 0)return e[n];return e[o[o.length-1]]})}const S=/^(\d|\.)+$/,m=/(\d|\.)+/;function O(e,{c:o=1,offset:n=0,attachPx:a=!0}={}){if(typeof e=="number"){const r=(e+n)*o;return r===0?"0":`${r}px`}else if(typeof e=="string")if(S.test(e)){const r=(Number(e)+n)*o;return a?r===0?"0":`${r}px`:`${r}`}else{const r=m.exec(e);return r?e.replace(m,String((Number(r[0])+n)*o)):e}return e}function $(){const e=u(v,null);return e===null&&c("use-dialog","No outer <n-dialog-provider /> founded."),e}function K(){const e=u(_,null);return e===null&&c("use-loading-bar","No outer <n-loading-bar-provider /> founded."),e}function M(){const e=u(b,null);return e===null&&c("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}function k(){const e=u(I,null);return e===null&&c("use-notification","No outer `n-notification-provider` found."),e}const y=A({name:"InjectionExtractor",props:{onSetup:Function},setup(e,{slots:o}){var n;return(n=e.onSetup)===null||n===void 0||n.call(e),()=>{var a;return(a=o.default)===null||a===void 0?void 0:a.call(o)}}}),q={message:M,notification:k,loadingBar:K,dialog:$,modal:w};function z({providersAndProps:e,configProviderProps:o}){let n=h(r);const a={app:n};function r(){return p(C,f(o),{default:()=>e.map(({type:t,Provider:l,props:s})=>p(l,f(s),{default:()=>p(y,{onSetup:()=>a[t]=q[t]()})}))})}let i;return N&&(i=document.createElement("div"),document.body.appendChild(i),n.mount(i)),Object.assign({unmount:()=>{var t;if(n===null||i===null){x("discrete","unmount call no need because discrete app has been unmounted");return}n.unmount(),(t=i.parentNode)===null||t===void 0||t.removeChild(i),i=null,n=null}},a)}function Q(e,{configProviderProps:o,messageProviderProps:n,dialogProviderProps:a,notificationProviderProps:r,loadingBarProviderProps:i,modalProviderProps:d}={}){const t=[];return e.forEach(s=>{switch(s){case"message":t.push({type:s,Provider:B,props:n});break;case"notification":t.push({type:s,Provider:E,props:r});break;case"dialog":t.push({type:s,Provider:D,props:a});break;case"loadingBar":t.push({type:s,Provider:P,props:i});break;case"modal":t.push({type:s,Provider:j,props:d})}}),z({providersAndProps:t,configProviderProps:o})}export{K as a,k as b,$ as c,R as d,Q as e,O as f,M as u};
