import{j as f,as as s,cr as g,aB as u,cs as v,ct as h,d as _,cu as A,h as d,M as m,ao as b,cv as w,aE as j,cw as N,cx as P,cy as B}from"./ClsKkY77.js";import{ad as E,_ as I,a7 as M,a as x}from"./JCo7lX2X.js";function L(e,a){return f(()=>{for(const n of a)if(e[n]!==void 0)return e[n];return e[a[a.length-1]]})}function C(){const e=s(g,null);return e===null&&u("use-dialog","No outer <n-dialog-provider /> founded."),e}function S(){const e=s(v,null);return e===null&&u("use-loading-bar","No outer <n-loading-bar-provider /> founded."),e}function k(){const e=s(h,null);return e===null&&u("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}function D(){const e=s(E,null);return e===null&&u("use-notification","No outer `n-notification-provider` found."),e}const K=_({name:"InjectionExtractor",props:{onSetup:Function},setup(e,{slots:a}){var n;return(n=e.onSetup)===null||n===void 0||n.call(e),()=>{var i;return(i=a.default)===null||i===void 0?void 0:i.call(a)}}}),F={message:k,notification:D,loadingBar:S,dialog:C,modal:w};function q({providersAndProps:e,configProviderProps:a}){let n=A(c);const i={app:n};function c(){return d(I,m(a),{default:()=>e.map(({type:o,Provider:p,props:r})=>d(p,m(r),{default:()=>d(K,{onSetup:()=>i[o]=F[o]()})}))})}let t;return b&&(t=document.createElement("div"),document.body.appendChild(t),n.mount(t)),Object.assign({unmount:()=>{var o;if(n===null||t===null){j("discrete","unmount call no need because discrete app has been unmounted");return}n.unmount(),(o=t.parentNode)===null||o===void 0||o.removeChild(t),t=null,n=null}},i)}function O(e,{configProviderProps:a,messageProviderProps:n,dialogProviderProps:i,notificationProviderProps:c,loadingBarProviderProps:t,modalProviderProps:l}={}){const o=[];return e.forEach(r=>{switch(r){case"message":o.push({type:r,Provider:B,props:n});break;case"notification":o.push({type:r,Provider:x,props:c});break;case"dialog":o.push({type:r,Provider:M,props:i});break;case"loadingBar":o.push({type:r,Provider:P,props:t});break;case"modal":o.push({type:r,Provider:N,props:l})}}),q({providersAndProps:o,configProviderProps:a})}export{S as a,D as b,C as c,L as d,O as e,k as u};
